<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8" />
  <title>Task 6</title>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.3.slim.min.js" integrity="sha256-ZwqZIVdD3iXNyGHbSYdsmWP//UBokj2FHAxKuSBKDSo=" crossorigin="anonymous">
  </script>

</head>

<body>
  <script type="application/javascript">
    $(document).ready(function() {
      function createFamilyTree() {
        $('body').append("<table>");
        $('table').append($('<thead>').append($('<tr></tr>'))
          .append($('<th></th>').text('Firstname'))
          .append($('<th></th>').text('Lastname'))
        );
        $('table').append($('<tbody>'));
        }

        function addNewMember(firstname, lastname, position) {
          
          if (position == 'before') {
            $('tbody').prepend($('<tr></tr>')
              .append($('<td></td>').text(firstname))
              .append($('<td></td>').text(lastname))
              .append($('<td></td>').text('(x)').click(removeElement).css({ "cursor": "pointer", "background-color": "orange"}))
            );
          }
          else {
            $('tbody').append($('<tr></tr>')
              .append($('<td></td>').text(firstname))
              .append($('<td></td>').text(lastname))
              .append($('<td></td>').text('(x)').click(removeElement).css({ "cursor": "pointer", "background-color": "orange" }))
            );
          }
        }

        function removeElement() {
          $(this).parent().remove();
        }

        function createForm() {
          $('body').append($('<div></div>')
            // .append($('<label></label>').text('Firstname: '))
            .append($('<input type="text" id="firstname" name="firstname">').css({ "margin-right": "5px" }))
            // .append($('<label></label>').text('Lastname: '))
            .append($('<input type="text" id="lastname" name="lastname">').css({ "margin-right": "5px" }))
            .append($('<select id="position">').css({ "margin-right": "5px" })
              .append($('<option value="before">Before</option>'))
              .append($('<option value="after">After</option>')))
            .append($('<input type="submit" value="Submit">').click(function () {
              addNewMember($('#firstname').val(), $('#lastname').val(), $('#position').val());
            }))
          );
        }

        $('body').append(createForm());
        $('body').append(createFamilyTree());

    });
  </script>
</body>

</html>