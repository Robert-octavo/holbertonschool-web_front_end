<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8" />
  <title>Task 10</title>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"
    integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous">
  </script>
  <!-- Ajax for Jquery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<body>
  <script type="application/javascript">
    $(document).ready(function() {
      function addPostRow(data) {
        $('body').append($('<p></p>').html('<span>' + "Post created with id " + data.id + ', title: ' + data.title + ', author: '+ data.author + '</span>'));	
      }
      
      function listPosts() {
        $.get('http://localhost:3000/posts', function (data, status) {
          if (status === 'success') {
            data.forEach(function (element) {
              addPostRow(element);
            });
          }
        }).fail(function () {
          console.log('Server Error');
        });
      }
      listPosts();
    });
  </script>
</body>

</html>